{% load static %}
{% include 'inc/header.html'%}

<style>
    /* Top Bar */
    .top-bar {
        background: var(--white);
        padding: 20px 25px;
        border-radius: 8px;
        margin-bottom: 25px;
        border: 1px solid var(--border-gray);
    }

    body.dark-mode .top-bar {
        background: var(--dark-card);
        border-color: var(--dark-border);
    }

    .top-bar h1 {
        font-size: 1.75rem;
        color: var(--dark-slate);
        font-weight: 600;
        margin: 0 0 20px 0;
    }

    body.dark-mode .top-bar h1 {
        color: var(--dark-text);
    }

    /* Search and Filters */
    .controls-bar {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
        align-items: center;
        margin-bottom: 25px;
    }

    .search-bar {
        flex: 1;
        min-width: 250px;
    }

    .search-bar input {
        width: 100%;
        padding: 10px 15px;
        border: 1px solid var(--border-gray);
        border-radius: 6px;
        font-size: 0.95rem;
        transition: all 0.2s ease;
    }

    .search-bar input:focus {
        outline: none;
        border-color: var(--steel-blue);
    }

    body.dark-mode .search-bar input {
        background: var(--dark-bg-secondary);
        border-color: var(--dark-border);
        color: var(--dark-text);
    }

    .filter-group {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }

    .filter-btn {
        padding: 10px 16px;
        background: var(--light-gray);
        border: 1px solid var(--border-gray);
        border-radius: 6px;
        color: var(--dark-slate);
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .filter-btn:hover {
        background: var(--ice-blue);
        border-color: var(--steel-blue);
    }

    .filter-btn.active {
        background: var(--steel-blue);
        color: var(--white);
        border-color: var(--steel-blue);
    }

    body.dark-mode .filter-btn {
        background: var(--dark-bg-secondary);
        border-color: var(--dark-border);
        color: var(--dark-text);
    }

    body.dark-mode .filter-btn:hover,
    body.dark-mode .filter-btn.active {
        background: var(--steel-blue);
        color: var(--white);
    }

    .filter-btn .status-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
    }

    /* Room Cards Grid */
    .rooms-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }

    .room-card {
        background: var(--white);
        border-radius: 8px;
        padding: 20px;
        border: 1px solid var(--border-gray);
        transition: all 0.2s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    body.dark-mode .room-card {
        background: var(--dark-card);
        border-color: var(--dark-border);
    }

    .room-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        transition: all 0.2s ease;
    }

    /* Estados de Habitación */
    .room-card.available::before {
        background: var(--available);
    }

    .room-card.occupied::before {
        background: var(--occupied);
    }

    .room-card.cleaning::before {
        background: var(--cleaning);
    }

    .room-card.maintenance::before {
        background: var(--maintenance);
    }

    .room-card.reserved::before {
        background: var(--reserved);
    }

    body.dark-mode .room-card.available::before {
        background: var(--available-dark);
    }

    body.dark-mode .room-card.occupied::before {
        background: var(--occupied-dark);
    }

    body.dark-mode .room-card.cleaning::before {
        background: var(--cleaning-dark);
    }

    body.dark-mode .room-card.maintenance::before {
        background: var(--maintenance-dark);
    }

    body.dark-mode .room-card.reserved::before {
        background: var(--reserved-dark);
    }

    .room-card:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transform: translateY(-3px);
    }

    .room-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
    }

    .room-number {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--dark-slate);
    }

    body.dark-mode .room-number {
        color: var(--dark-text);
    }

    .room-icon {
        font-size: 1.8rem;
        opacity: 0.3;
    }

    .room-floor {
        font-size: 0.75rem;
        color: var(--medium-gray);
        background: var(--light-gray);
        padding: 4px 10px;
        border-radius: 12px;
        display: inline-block;
        margin-bottom: 8px;
    }

    body.dark-mode .room-floor {
        background: var(--dark-bg-secondary);
        color: var(--dark-text-secondary);
    }

    .room-type {
        font-size: 0.85rem;
        color: var(--medium-gray);
        margin-bottom: 8px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    body.dark-mode .room-type {
        color: var(--dark-text-secondary);
    }

    .room-status {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 500;
        margin-bottom: 12px;
    }

    .room-card.available .room-status {
        background: rgba(40, 167, 69, 0.1);
        color: var(--available);
    }

    .room-card.occupied .room-status {
        background: rgba(220, 53, 69, 0.1);
        color: var(--occupied);
    }

    .room-card.cleaning .room-status {
        background: rgba(253, 126, 20, 0.1);
        color: var(--cleaning);
    }

    .room-card.maintenance .room-status {
        background: rgba(108, 117, 125, 0.1);
        color: var(--maintenance);
    }

    .room-card.reserved .room-status {
        background: rgba(0, 123, 255, 0.1);
        color: var(--reserved);
    }

    body.dark-mode .room-card.available .room-status {
        background: rgba(46, 204, 113, 0.15);
        color: var(--available-dark);
    }

    body.dark-mode .room-card.occupied .room-status {
        background: rgba(231, 76, 60, 0.15);
        color: var(--occupied-dark);
    }

    body.dark-mode .room-card.cleaning .room-status {
        background: rgba(243, 156, 18, 0.15);
        color: var(--cleaning-dark);
    }

    body.dark-mode .room-card.maintenance .room-status {
        background: rgba(149, 165, 166, 0.15);
        color: var(--maintenance-dark);
    }

    body.dark-mode .room-card.reserved .room-status {
        background: rgba(52, 152, 219, 0.15);
        color: var(--reserved-dark);
    }

    .status-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
    }

    .room-card.available .status-dot {
        background: var(--available);
    }

    .room-card.occupied .status-dot {
        background: var(--occupied);
    }

    .room-card.cleaning .status-dot {
        background: var(--cleaning);
    }

    .room-card.maintenance .status-dot {
        background: var(--maintenance);
    }

    .room-card.reserved .status-dot {
        background: var(--reserved);
    }

    body.dark-mode .room-card.available .status-dot {
        background: var(--available-dark);
    }

    body.dark-mode .room-card.occupied .status-dot {
        background: var(--occupied-dark);
    }

    body.dark-mode .room-card.cleaning .status-dot {
        background: var(--cleaning-dark);
    }

    body.dark-mode .room-card.maintenance .status-dot {
        background: var(--maintenance-dark);
    }

    body.dark-mode .room-card.reserved .status-dot {
        background: var(--reserved-dark);
    }

    .room-time {
        font-size: 0.8rem;
        color: var(--medium-gray);
        margin-top: 8px;
        display: flex;
        align-items: center;
        gap: 5px;
    }

    body.dark-mode .room-time {
        color: var(--dark-text-secondary);
    }

    /* Legend */
    .legend {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        padding: 20px;
        background: var(--white);
        border-radius: 8px;
        border: 1px solid var(--border-gray);
    }

    body.dark-mode .legend {
        background: var(--dark-card);
        border-color: var(--dark-border);
    }

    .legend-item {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.9rem;
        color: var(--dark-slate);
    }

    body.dark-mode .legend-item {
        color: var(--dark-text);
    }

    .legend-dot {
        width: 14px;
        height: 14px;
        border-radius: 50%;
    }

    .legend-dot.available {
        background: var(--available);
    }

    .legend-dot.occupied {
        background: var(--occupied);
    }

    .legend-dot.cleaning {
        background: var(--cleaning);
    }

    .legend-dot.maintenance {
        background: var(--maintenance);
    }

    .legend-dot.reserved {
        background: var(--reserved);
    }

    body.dark-mode .legend-dot.available {
        background: var(--available-dark);
    }

    body.dark-mode .legend-dot.occupied {
        background: var(--occupied-dark);
    }

    body.dark-mode .legend-dot.cleaning {
        background: var(--cleaning-dark);
    }

    body.dark-mode .legend-dot.maintenance {
        background: var(--maintenance-dark);
    }

    body.dark-mode .legend-dot.reserved {
        background: var(--reserved-dark);
    }

    /* Responsive */
    @media (max-width: 768px) {
        .rooms-grid {
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        }

        .controls-bar {
            flex-direction: column;
            align-items: stretch;
        }

        .search-bar {
            width: 100%;
        }

        .filter-group {
            width: 100%;
        }
    }

    /* Animation */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .room-card {
        animation: fadeInUp 0.3s ease forwards;
    }
</style>

<!-- Top Bar -->
<div class="top-bar">
    <h1><i class="fas fa-door-open"></i> Vista General de Habitaciones</h1>

    <!-- Search and Filters -->
    <div class="controls-bar">
        <div class="search-bar">
            <input type="text" placeholder="Buscar habitación..." id="searchInput">
        </div>
        <div class="filter-group">
            <button class="filter-btn active" data-filter="all">
                <i class="fas fa-th"></i> Todas
            </button>
            <button class="filter-btn" data-filter="available">
                <span class="status-dot" style="background: var(--available);"></span> Disponibles
            </button>
            <button class="filter-btn" data-filter="occupied">
                <span class="status-dot" style="background: var(--occupied);"></span> Ocupadas
            </button>
            <button class="filter-btn" data-filter="cleaning">
                <span class="status-dot" style="background: var(--cleaning);"></span> Limpieza
            </button>
            <button class="filter-btn" data-filter="maintenance">
                <span class="status-dot" style="background: var(--maintenance);"></span> Mantenimiento
            </button>
        </div>
    </div>
</div>

<!-- Rooms Grid -->
<div class="rooms-grid" id="roomsGrid">
    <!-- EJEMPLO DE CARD CON DJANGO -->
    <!--
    {% for habitacion in habitaciones %}
    <div class="room-card {{ habitacion.estado }}" data-status="{{ habitacion.estado }}">
        <div class="room-header">
            <div class="room-number">{{ habitacion.numero }}</div>
            <i class="fas fa-bed room-icon"></i>
        </div>
        <div class="room-floor"><i class="fas fa-layer-group"></i> Piso {{ habitacion.piso }}</div>
        <div class="room-type">{{ habitacion.tipo }}</div>
        <div class="room-status">
            <span class="status-dot"></span>
            {{ habitacion.estado_display }}
        </div>
        <div class="room-time"><i class="fas fa-clock"></i> 24hr</div>
    </div>
    {% endfor %}
    -->

    <!-- EJEMPLOS ESTÁTICOS -->
    <div class="room-card available" data-status="available">
        <div class="room-header">
            <div class="room-number">203</div>
            <i class="fas fa-bed room-icon"></i>
        </div>
        <div class="room-floor"><i class="fas fa-layer-group"></i> Piso 2</div>
        <div class="room-type">Sencilla</div>
        <div class="room-status">
            <span class="status-dot"></span>
            Disponible
        </div>
        <div class="room-time"><i class="fas fa-clock"></i> 24hr</div>
    </div>

    <div class="room-card occupied" data-status="occupied">
        <div class="room-header">
            <div class="room-number">210</div>
            <i class="fas fa-user-check room-icon"></i>
        </div>
        <div class="room-floor"><i class="fas fa-layer-group"></i> Piso 2</div>
        <div class="room-type">Doble</div>
        <div class="room-status">
            <span class="status-dot"></span>
            Ocupada
        </div>
        <div class="room-time"><i class="fas fa-clock"></i> 24hr</div>
    </div>

    <div class="room-card cleaning" data-status="cleaning">
        <div class="room-header">
            <div class="room-number">207</div>
            <i class="fas fa-broom room-icon"></i>
        </div>
        <div class="room-floor"><i class="fas fa-layer-group"></i> Piso 2</div>
        <div class="room-type">Sencilla</div>
        <div class="room-status">
            <span class="status-dot"></span>
            Limpieza
        </div>
        <div class="room-time"><i class="fas fa-clock"></i> 24hr</div>
    </div>

    <div class="room-card maintenance" data-status="maintenance">
        <div class="room-header">
            <div class="room-number">105</div>
            <i class="fas fa-tools room-icon"></i>
        </div>
        <div class="room-floor"><i class="fas fa-layer-group"></i> Piso 1</div>
        <div class="room-type">Suite</div>
        <div class="room-status">
            <span class="status-dot"></span>
            Mantenimiento
        </div>
        <div class="room-time"><i class="fas fa-clock"></i> 24hr</div>
    </div>
</div>

<!-- Legend -->
<div class="legend">
    <div class="legend-item">
        <div class="legend-dot available"></div>
        <span>Disponible</span>
    </div>
    <div class="legend-item">
        <div class="legend-dot occupied"></div>
        <span>Ocupada</span>
    </div>
    <div class="legend-item">
        <div class="legend-dot cleaning"></div>
        <span>Limpieza</span>
    </div>
    <div class="legend-item">
        <div class="legend-dot maintenance"></div>
        <span>Mantenimiento</span>
    </div>
    <div class="legend-item">
        <div class="legend-dot reserved"></div>
        <span>Reservada</span>
    </div>
</div>

{% include 'inc/footer.html'%}